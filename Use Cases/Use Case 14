# USE CASE #14: View top N populated cities in a region (City Report)

## CHARACTERISTIC INFORMATION
**Goal in Context**
As a Data Analyst, I want to view the top N populated cities within a specific region so that I can identify major regional hubs and compare patterns of urban concentration across regions.

**Scope**
World Population Reporting System

**Level**
Primary task

**Preconditions**
* The database (world.sql) is connected and loaded.
* Valid region names exist in the database.
* The user is logged into the system interface (CLI or GUI).
* City and country data are correctly linked in the database.
* The user understands that "N" refers to the number of top cities to display.

**Success End Condition**
The system successfully generates and displays the top N cities within the specified region, ordered from largest to smallest population.

**Failed End Condition**
Invalid region name or N value, no results found, or query/database failure.

**Primary Actor**
Data Analyst

**Trigger**
The user selects the City Report then Top N (By Region) option and provides both the region name and numeric value for N.

## MAIN SUCCESS SCENARIO
1. The user opens the World Population Reporting System.
2. The system displays the main dashboard with available report categories.
3. The user selects City Report.
4. The system displays a submenu for Report Type (All, Continent, Region, Country, District, Top N).
5. The user selects Top N (By Region).
6. The system prompts the user to enter the region name (e.g., "Caribbean").
7. The user provides a valid region name.
8. The system prompts the user to enter a numeric value for N (e.g., "10").
9. The user enters a valid integer value for N.
10. The system executes a SQL query joining city and country tables, filtering by region, and limiting results to the top N cities by population.
11. The system sorts the results in descending order by population.
12. The system displays the formatted report in the following columns: **City Name, Country Name, Region, District, Population**
13. The user reviews the report and may export or print it.

## EXTENSIONS
* **6a.** User enters an invalid or misspelled region name; System displays: "Invalid region name. Please try again."
* **8a.** User enters a non-numeric or invalid N; System displays: "Invalid input. Please enter a positive integer."
* **10a.** Database query fails, System logs the error and displays: "Database error. Please try again later."
* **11a.** No results found for the specified region, System displays: "No city data found for this region."

## SUB-VARIATIONS
* The report may be exported as CSV, PDF, or viewed in an interactive table.
* The user may choose to include or exclude district data in results.

## SCHEDULE
**Due Date:** Release 4.0
